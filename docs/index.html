<!doctype html>
<html lang="pt-BR"><meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>LLPC • Catálogo de temas</title>
<link rel="stylesheet" href="./style.css"/>
<div class="container">
  <h1>LLPC • Catálogo de temas</h1>
  <p>Clique no tema para ver todas as fotos com preços e pedir pelo WhatsApp.</p>
  <div id="temas" class="grid"></div>
  <footer>LLPC • Laços & Letras Papelaria Criativa</footer>
</div>
<script type="module">
const base = location.pathname.replace(/\/[^/]*$/,''); // /llpc-fotos/
const repoRaw = location.origin + base; // GitHub Pages
async function fetchCatalogList(){
  // Heurística: buscar arquivos em /catalogo/ no branch main via lista estática
  // (Alternativa: manter um index.json — aqui tentamos os conhecidos)
  const temas = ['kit-a-bela-e-a-fera','kit-hot-wheels'];
  const found = [];
  for (const slug of temas){
    try{
      const r = await fetch(`${base}/catalogo/${slug}.json`);
      if (r.ok){ found.push(await r.json()); }
    }catch{}
  }
  return found;
}
function cardTema(t){
  return `
  <a class="card" href="./lp-tema.html?tema=${encodeURIComponent(t.slug)}">
    <div class="imgbox"><img src="${t.cards[0]?.imagens?.[0]||''}" alt=""/></div>
    <div class="meta"><h3>${t.tema}</h3><div class="row"><span class="badge">${t.cards.length} produtos</span></div></div>
  </a>`;
}
(async()=>{
  const temas = await fetchCatalogList();
  document.getElementById('temas').innerHTML = temas.map(cardTema).join('');
})();
</script></html>